'use client';

import React, { useState } from "react";
import { NavButton } from "@/components/ui/nav";
import type { NavItem } from "@/types/payload";

interface HeaderProps {
  navItems?: NavItem[];
}

const defaultNavItems: NavItem[] = [
  { label: "INÍCIO", href: "/" },
  { label: "SINDICATO", href: "/sindicato" },
  { label: "JURÍDICO", href: "/juridico" },
  { label: "PUBLICAÇÕES", href: "/publicacoes" },
  { label: "SERVIÇOS", href: "/servicos" },
  { label: "NEWSLETTER", href: "/newsletter" },
  { label: "CONTATO", href: "/contato" },
];

export default function Header({ navItems = defaultNavItems }: HeaderProps) {
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);

  // Separate regular links from button items
  const linkItems = navItems.filter(item => !item.isButton);
  const buttonItems = navItems.filter(item => item.isButton);

  return (
    <header>
      <div className="mx-auto max-w-7xl px-4 md:px-8">
        <div className="relative flex h-16 items-center justify-between">
          {/* Logo */}
          <div className="flex items-center">
            <a className="block text-brand-500 flex items-center gap-2 mt-2" href="/">
              <svg width="60" height="66" viewBox="0 0 1497 1641" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M399.04 864.238C383.185 842.311 373.806 817.639 374.754 790.882C377.825 704.179 463.84 662.717 541.418 666.669C594.95 669.395 616.829 683.366 652.569 720.978C662.579 734.027 666.819 750.767 652.539 762.77C632.589 775.336 608.81 777.769 585.46 772.46C549.17 764.211 518.948 734.745 479.962 756.688C470.277 762.139 463.726 771.573 461.194 782.334C458.632 793.221 462.324 808.513 469.254 817.49C507.419 866.936 611.319 884.321 670.399 895.477C769.289 914.148 903.589 921.129 971.339 1007.3C989.379 1030.24 995.679 1063.82 990.729 1091.97C984.889 1125.18 962.95 1150.97 936.37 1170.59C927.51 1177.14 914.269 1182.93 904.469 1188.41C886.619 1176.7 867.779 1166.55 848.159 1158.1C840.409 1154.84 816.179 1146.97 811.009 1143.54C816.839 1132.69 917.629 1118.09 901.669 1061.53C896.679 1043.82 878.719 1032.44 863.159 1024.03C823.009 1002.33 776.499 993.648 732.039 985.733C633.349 968.164 494.143 950.918 416.225 882.422C409.828 876.952 404.412 870.674 399.04 864.238Z" fill="#1E79B9"/>
                <path d="M652.569 720.978C662.579 734.027 666.819 750.767 652.539 762.77C652.489 748.745 651.979 735.022 652.569 720.978Z" fill="#186FAF"/>
                <path d="M399.04 864.238C402.387 863.703 402.737 863.564 405.479 861.575C411.313 868.113 417.13 873.051 416.224 882.422C409.827 876.952 404.412 870.674 399.04 864.238Z" fill="#186FAF"/>
                <path d="M651.039 306.852C664.799 270.948 703.759 241.655 742.179 239.666C748.169 239.356 754.829 239.735 760.849 239.998C773.019 242.129 778.099 243.02 789.109 248.222C812.459 258.796 837.469 282.568 844.659 307.682C854.319 331.996 854.839 357.996 844.559 382.254C837.589 403.955 819.579 420.147 801.739 432.876C799.589 445.695 799.919 460.524 799.649 473.681C799.149 498.314 799.599 523.092 798.879 547.73L790.839 886.07C782.009 885.4 711.819 873.176 706.479 870.418C705.109 859.265 705.559 841.545 705.249 829.646L703.089 746.621L696.389 435.049C677.519 420.148 655.069 400.551 649.959 375.513C641.319 355.006 643.259 327.466 651.039 306.852Z" fill="#1E79B9"/>
                <path d="M844.659 307.682C854.319 331.996 854.839 357.996 844.559 382.254C843.489 359.727 843.419 329.72 844.659 307.682Z" fill="#186FAF"/>
                <path d="M651.039 306.852C653.449 334.617 650.879 349.797 649.959 375.513C641.319 355.006 643.259 327.466 651.039 306.852Z" fill="#186FAF"/>
                <path d="M760.849 239.998C773.019 242.129 778.099 243.02 789.109 248.222C786.379 248.375 780.199 248.746 777.709 248.499C771.259 247.858 768.309 245.428 761.339 246.492C762.779 247.438 762.769 247.332 763.979 248.539C759.709 248.167 755.879 247.794 751.569 247.8L750.759 247.806C754.819 244.816 755.499 246.544 759.959 243.922L760.849 239.998Z" fill="#186FAF"/>
                <path d="M549.599 980.783C556.899 979.941 585.759 988.109 594.939 990.434C609.959 994.694 624.969 997.287 640.309 999.974C645.349 1000.86 669.249 1003.57 671.339 1007.17C668.409 1012.33 646.669 1018.69 639.289 1022.11C632.869 1025.06 626.679 1028.49 620.779 1032.38C609.749 1039.74 596.049 1051.82 594.489 1065.31C587.739 1123.7 694.219 1142.48 735.129 1154.34C762.099 1161.5 787.789 1167.78 814.349 1176.89C881.139 1199.79 963.069 1245.73 951.269 1328.79C946.429 1362.85 923.219 1385.66 896.409 1405.44C888.739 1410.71 873.359 1422.76 864.159 1420.04C851.499 1408.62 839.569 1403.06 824.469 1395.18C818.319 1391.98 807.199 1388.81 802.469 1384.18C802.539 1383.41 802.609 1382.65 802.669 1381.89C810.719 1376.86 825.739 1370.99 833.459 1366.53C843.539 1360.71 848.469 1357.8 856.169 1351.14C865.799 1342.8 871.859 1331.83 872.259 1319.47C874.259 1257.73 757.049 1238.61 711.929 1227C684.869 1219.97 656.259 1214.24 629.989 1204.56C597.559 1192.6 557.979 1172.58 534.628 1147.14C500.832 1110.32 494.16 1056.42 521.702 1014.16C528.995 1002.97 539.469 989.819 549.599 980.783Z" fill="#1E79B9"/>
                <path d="M841.839 724.177C874.519 687.522 904.079 670.132 954.259 667.558C999.399 665.243 1047.76 676.031 1082.49 706.388C1105.71 726.681 1121.09 758.905 1122.56 789.582C1123.97 819.048 1110.62 851.796 1090.38 873.084C1055.67 909.587 996.419 934.854 948.659 947.861C927.259 929.688 887.779 914.553 861.069 904.52C855.049 899.479 848.489 900.117 844.219 895.886C846.739 891.798 877.119 888.437 886.159 883.664C931.729 872.563 1030.48 851.563 1036.39 792.073C1037.32 782.724 1032.66 770.098 1025.78 763.297C995.939 733.842 958.249 755.694 926.339 768.05C902.369 777.086 859.059 780.826 840.349 758.92C830.849 747.613 835.089 735.396 841.839 724.177Z" fill="#1E79B9"/>
                <path d="M841.839 724.177C842.609 733.889 845.069 742.072 843.409 752.177L842.599 753.246L840.429 752.292C839.299 755.104 839.909 755.413 840.349 758.92C830.849 747.613 835.089 735.396 841.839 724.177Z" fill="#186FAF"/>
                <path d="M594.999 1222.18C609.059 1227.88 620.569 1232.73 634.879 1237.6C643.679 1240.6 677.049 1250.53 681.959 1253.42C681.529 1254.92 680.199 1256.61 678.829 1257.33C614.469 1290.94 597.949 1330.23 668.909 1369.79L680.999 1375.4C760.109 1409.73 884.699 1420.35 899.239 1526.46C901.699 1544.45 894.899 1566.84 880.659 1543.82C837.709 1474.35 770.809 1468.93 700.349 1449.92C672.129 1442.52 644.969 1431.55 619.519 1417.3C577.179 1393.28 542.205 1359.86 544.737 1307.54C546.494 1271.23 569.699 1245.38 594.999 1222.18Z" fill="#1E79B9"/>
                <path d="M668.909 1369.79L681 1375.4C679.87 1375.42 678.75 1375.43 677.62 1375.43C673.57 1375.43 655.519 1375.79 653.659 1373.92C657.499 1369.92 662.129 1372.46 667.219 1373.06L668.909 1369.79Z" fill="#186FAF"/>
                <path d="M716.859 1482.46C731.099 1486.02 767.159 1495.57 778.899 1500.47C779.219 1524.47 779.09 1548.48 778.49 1572.47C778.2 1591.48 780.66 1615.17 769.63 1631.18C763.89 1636.69 758.459 1639.75 750.309 1640.09C742.549 1640.35 735.029 1637.41 729.509 1631.96C724.849 1627.4 721.63 1621.58 720.24 1615.21C717.35 1602.42 718.279 1554.54 718.189 1538.51C718.079 1521.85 716.929 1498.98 716.859 1482.46Z" fill="#1E79B9"/>
                <path d="M710.309 1119.09C710.219 1107.81 707.549 1018.31 710.209 1014.4C721.969 1011.35 772.659 1024.93 787.649 1028.56C787.969 1065.77 786.469 1101.75 785.959 1138.71C777.029 1136.38 768.589 1134.2 759.779 1131.38C754.509 1130.53 733.979 1124.65 728.469 1122.87C722.389 1121.74 716.339 1120.48 710.309 1119.09Z" fill="#1E79B9"/>
                <path d="M728.469 1122.87C738.019 1122.16 755.239 1120.17 763.649 1124.24C765.719 1127.25 765.369 1125.68 765.149 1129C760.979 1129.58 762.069 1128.8 759.779 1131.38C754.509 1130.53 733.979 1124.65 728.469 1122.87Z" fill="#186FAF"/>
                <path d="M712.639 1258.02C731.539 1262.06 750.359 1266.51 769.069 1271.35L783.479 1275.17C783.349 1290.44 784.129 1371.5 781.059 1379.48C776.579 1378.7 764.089 1374.02 759.399 1372.39L715.399 1357.1L712.639 1258.02Z" fill="#1E79B9"/>
                <path d="M769.069 1271.35L783.479 1275.17C783.349 1290.44 784.129 1371.5 781.059 1379.48C778.479 1365.35 783.119 1286.59 779.089 1282.22C774.809 1277.58 760.039 1279.4 754.189 1279.49L753.049 1278.56L752.819 1278.6L761.139 1276.4L759.279 1276.05C761.969 1274.61 764.999 1274.43 768.029 1274.2L769.069 1271.35Z" fill="#186FAF"/>
                <path d="M747.529 1359.98C752.159 1362.96 759.719 1359.71 763.639 1362.48L763.469 1365.28C757.439 1363.72 749.469 1364.94 745.529 1362.23L747.529 1359.98Z" fill="#186FAF"/>
                <path d="M632.579 1458.86C637.879 1458.9 684.159 1476.85 689.849 1479.86C666.679 1490.81 645.999 1506.41 629.099 1525.68C623.809 1532.48 612.599 1548.96 605.909 1551.81C595.309 1550.34 596.739 1537.07 597.179 1528.84C598.479 1504.51 614.259 1474.31 632.579 1458.86Z" fill="#1E79B9"/>
                <path d="M824.13 894.107C828.24 893.091 832.68 892.371 836.88 891.837C853.37 889.735 869.719 885.899 886.159 883.664C877.119 888.437 846.739 891.798 844.219 895.886C848.489 900.117 855.049 899.479 861.069 904.52C849.349 901.399 835.28 898.22 824.13 894.107Z" fill="#186FAF" fillOpacity="0.886275"/>
                <path d="M470.148 0H1026.87C1025.13 112.436 1026.29 229.46 1026.77 342.092C1052.09 342.161 1088.1 343.561 1112.34 342.098C1115.1 330.582 1119.13 310.96 1122.41 300.282C1123.2 294.266 1129.06 274.708 1130.96 267.853C1138.06 239.355 1145.32 210.899 1152.75 182.486C1155.69 170.92 1164.06 103.745 1193.33 128.114C1201.03 134.525 1208.4 182.33 1211.12 195.34L1239.06 335.258C1241.9 349.314 1245.51 364.85 1249.31 378.853C1249.33 379.143 1249.35 379.433 1249.37 379.724C1250.7 384.932 1251.55 391.017 1254.69 394.973L1256.39 394.837C1259.13 391.009 1260.49 382.523 1261.36 377.675C1276.18 339.033 1284.26 296.246 1301.66 258.597C1306.44 248.25 1324.07 244.944 1330.27 255.538C1338.32 269.308 1343.29 285.886 1349.18 300.906C1355.29 316.197 1361.73 331.352 1368.5 346.359C1372.5 346.852 1377.92 346.966 1382.05 347.177C1401.99 346.875 1421.93 346.689 1441.87 346.619C1452.34 346.557 1481.5 344.473 1489.26 351.715C1498.4 360.242 1497.18 374.221 1485.7 381.269L1484.68 381.556C1473.03 384.925 1361 384.981 1348.61 381.14C1337.44 377.676 1323.84 335.771 1318.55 324.81C1310.24 341.41 1306.04 356.296 1300.41 373.872L1278.34 444.326C1275.06 454.598 1270.85 470.582 1266.24 479.7C1259.25 493.54 1238.86 493.107 1233.9 476.031C1225.85 448.336 1222.44 420.004 1215.58 392.272C1204.63 347.953 1199.02 302.411 1188.02 258.236C1186.3 247.979 1183.05 237.106 1180.31 227.009C1177.92 232.543 1176.15 239.568 1174.48 245.467C1171.4 259.302 1164.89 275.67 1161.29 290.939L1156.74 308.454C1152.64 325.668 1144.9 356.706 1137.81 372.816C1135.71 374.362 1131.22 377.704 1128.63 377.905C1095.11 380.515 1060.32 376.73 1026.65 378.047C1026.47 424.374 1024.97 477.421 1026.26 523.22L1331.41 523.592L1436.18 523.788C1454.95 523.871 1477.89 523.465 1496.2 524.7L1496.16 890.429C1496.32 954.843 1497.53 1026.43 1495.72 1090.33L1058.22 1090.49C1057.72 1045.8 1054.15 1040.34 1040.06 1000.78L1406.89 1001.04C1407.56 916.92 1407.62 832.801 1407.06 748.684L1406.88 659.793C1406.86 645.004 1407.34 627.141 1406.66 612.616L937.609 612.436L937.539 244.488L937.37 157.179C937.33 144.683 937.989 114.021 935.289 103.736C929.789 102.678 908.649 103.088 901.949 103.095L833.109 103.17L558.449 103.397L557.849 612.096C402.286 613.092 243.366 609.976 88.2305 612.978C87.9505 631.548 87.8784 650.431 88.1664 669C89.8784 779.235 85.7585 890.918 88.7075 1001L336.276 1001.13L413.786 1001.05C426.271 1001.05 444.937 1000.58 457.108 1001.41C442.475 1038.21 438.751 1050.55 438.716 1089.98L176.269 1090.12C118.376 1090.15 57.9945 1091.33 0.459465 1090.45L0.628441 723.129L0.410454 590.634C0.374454 570.709 -0.491551 543.498 0.405449 524.002L329.055 524.309C346.627 524.311 464.156 525.608 470.708 522.935C470.611 475.318 470.985 426.04 469.758 378.536L409.888 378.836C399.402 378.862 382.091 379.313 372.359 378.108C357.634 379.091 353.765 360.776 350.564 349.863C344.218 328.234 339.488 305.832 333.887 283.991C328.948 264.734 322.404 246.001 317.749 226.721C309.281 250.145 302.391 288.302 297.454 313.19L274.029 428.758C270.562 445.241 267.657 462.016 263.231 478.251C257.228 495.299 237.567 494.201 230.154 478.706C224.857 467.554 222.538 455.139 218.549 443.54C204.691 403.24 193.679 359.597 178.156 320.071C170.493 334.56 162.987 371.72 150.156 379.478C147.1 381.326 143.944 382.198 140.415 382.597C127.425 384.067 19.2874 383.45 12.7314 381.296C9.28844 380.164 5.87744 376.801 4.27944 373.616C1.46044 368 2.33344 362.256 4.28744 356.562C13.4204 344.805 28.7114 347.356 42.8704 347.773C70.4424 348.586 100.009 346.529 127.373 348.762C128.43 347.802 161.22 267.697 163.677 260.808C172.49 246.451 189.646 244.277 196.52 260.224C210.101 294.851 218.642 334.354 232.262 369.356C235.657 378.08 238.928 389.742 242.849 398.011C248.505 377.842 252.304 355.759 257.173 335.295C259.002 327.605 260.276 318.138 262.483 310.766C262.753 306.964 263.618 305.019 264.834 301.363C264.898 297.581 268.08 282.552 268.814 277.816C273.163 249.785 279.709 223.386 286.38 195.854C286.548 193.05 289.03 183.749 289.826 180.492C291.419 169.28 296.894 140.243 301.179 131.099C328.396 108.763 334.107 143.345 338.744 161.757C342.561 177.134 346.478 192.487 350.493 207.814C361.676 250.24 376.184 299.33 385.727 341.548C409.529 342.762 446.269 342.377 470.105 341.545C471.13 326.481 470.508 304.808 470.46 289.489L469.899 192.842C469.561 129.147 471.401 63.3422 470.148 0Z" fill="#1E79B9"/>
                <path d="M1382.05 347.177C1401.99 346.875 1421.93 346.689 1441.87 346.619C1452.34 346.557 1481.5 344.473 1489.26 351.715C1498.4 360.242 1497.18 374.221 1485.7 381.269C1479.81 373.741 1484.35 369.146 1483.59 357.386L1483.5 356.063C1475.43 356.369 1412.15 357.271 1409.63 355.538C1414.83 353.972 1442.59 355.076 1450.96 354.422C1442.98 353.973 1436.68 353.718 1428.71 353.894C1439.7 350.171 1441.28 354.203 1446.29 352.486C1435.77 352.641 1390.32 350.94 1382.05 347.177Z" fill="#186FAF"/>
                <path d="M4.28748 356.562C13.4205 344.805 28.7115 347.356 42.8705 347.773C70.4425 348.586 100.01 346.529 127.374 348.762C120.153 350.011 107.494 348.083 103.967 351.855L104.376 353.186C106.898 353.449 117.382 354.335 119.056 355.081C83.6565 359.129 38.7495 353.347 4.28748 356.562Z" fill="#186FAF"/>
                <path d="M372.359 378.108C384.469 376.773 467.279 375.953 473.952 378.279C476.575 387.353 475.763 519.236 472.627 522.647L470.708 522.935C470.611 475.318 470.986 426.04 469.759 378.536L409.888 378.836C399.402 378.862 382.091 379.313 372.359 378.108Z" fill="#186FAF"/>
                <path d="M163.677 260.808C172.49 246.451 189.646 244.277 196.52 260.224C189.797 256.949 188.523 260.05 182.676 259.645C177.381 259.279 182.401 255.407 174.868 256.808C172.872 260.697 171.704 264.154 170.202 268.233L168.96 267.84L169.025 264.505C166.606 262.169 166.536 262.249 163.677 260.808Z" fill="#186FAF"/>
                <path d="M1130.96 267.853C1131.26 276.737 1132.1 300.548 1131.16 308.655L1130.01 309.627C1126.13 305.124 1129.26 297.16 1126.58 296.305L1122.41 300.282C1123.2 294.266 1129.06 274.708 1130.96 267.853Z" fill="#186FAF"/>
                <path d="M1156.74 308.454C1156.33 300.968 1154.95 283.552 1156.74 277.374C1159.74 281.131 1156.05 285.814 1161.29 290.939L1156.74 308.454Z" fill="#186FAF"/>
                <path d="M286.38 195.854C286.548 193.05 289.031 183.749 289.827 180.492C290.296 186.673 291.402 212.737 289.499 217.127C289.166 212.614 289.379 199.146 287.904 196.791L286.38 195.854Z" fill="#186FAF"/>
                <path d="M262.484 310.766C262.754 306.964 263.619 305.019 264.835 301.363C265.377 308.276 269.345 333.118 266.819 337.611C263.194 334.818 265.818 318.001 265.109 312.06L262.484 310.766Z" fill="#186FAF"/>
                <path d="M1174.48 245.467C1176.15 239.568 1177.92 232.543 1180.31 227.009C1183.05 237.106 1186.3 247.979 1188.02 258.236C1184.22 253.212 1184.3 241.626 1177.81 241.769L1174.48 245.467Z" fill="#E2FBFE" fillOpacity="0.0823529"/>
                <path d="M1249.37 379.724C1253.02 383.162 1251.57 383.723 1255.81 385.104C1258.56 383.39 1259.74 380.552 1261.36 377.675C1260.49 382.523 1259.13 391.009 1256.39 394.837L1254.69 394.973C1251.55 391.017 1250.7 384.932 1249.37 379.724Z" fill="#E2FBFE" fillOpacity="0.0901961"/>
              </svg>
              <div className="flex flex-col text-sm font-semibold text-brand-500">
                <span>SITIBEGAM</span>
                <span>BELÉM</span>
              </div>
            </a>
          </div>

          {/* Desktop Navigation - Centralizado */}
          <nav
            aria-label="Global"
            className="hidden lg:flex absolute left-1/2 -translate-x-1/2"
          >
            <ul className="flex items-center gap-8 text-sm">
              {linkItems.map((item, index) => (
                <li key={`${item.href}-${index}`}>
                  <a
                    className="text-primary transition hover:text-brand-600 font-medium"
                    href={item.href}
                  >
                    {item.label}
                  </a>
                </li>
              ))}
            </ul>
          </nav>

          {/* Botões de ação e menu mobile */}
          <div className="flex items-center gap-4">
            <div className="hidden sm:flex sm:gap-4">
              {buttonItems.map((item, index) => (
                <NavButton key={`btn-${item.href}-${index}`} label={item.label} href={item.href} />
              ))}
            </div>

            {/* Hamburger Menu Button */}
            <button
              className="lg:hidden rounded bg-gray-100 p-2 text-gray-600 transition hover:text-gray-600/75"
              onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
              aria-label="Toggle menu"
            >
              {mobileMenuOpen ? (
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  className="size-5"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                  strokeWidth={2}
                >
                  <path
                    strokeLinecap="round"
                    strokeLinejoin="round"
                    d="M6 18L18 6M6 6l12 12"
                  />
                </svg>
              ) : (
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  className="size-5"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                  strokeWidth={2}
                >
                  <path
                    strokeLinecap="round"
                    strokeLinejoin="round"
                    d="M4 6h16M4 12h16M4 18h16"
                  />
                </svg>
              )}
            </button>
          </div>
        </div>

        {/* Mobile Menu */}
        {mobileMenuOpen && (
          <div className="lg:hidden border-t border-gray-200 py-4">
            <nav aria-label="Mobile">
              <ul className="flex flex-col space-y-3">
                {linkItems.map((item, index) => (
                  <li key={`mobile-${item.href}-${index}`}>
                    <a
                      className="block text-primary transition hover:text-brand-600 font-medium py-2"
                      href={item.href}
                      onClick={() => setMobileMenuOpen(false)}
                    >
                      {item.label}
                    </a>
                  </li>
                ))}
                {buttonItems.map((item, index) => (
                  <li key={`mobile-btn-${item.href}-${index}`} className="pt-2 sm:hidden">
                    <NavButton label={item.label} href={item.href} />
                  </li>
                ))}
              </ul>
            </nav>
          </div>
        )}
      </div>
    </header>
  );
}
